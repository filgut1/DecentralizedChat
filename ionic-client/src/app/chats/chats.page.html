<ion-header>
    <ion-toolbar>
        <ion-title>Chats</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="newChat()">
                <ion-icon name="create-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-buttons slot="start">
            <ion-button (click)="joinChat()">
                <ion-icon name="enter-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <!-- <form class="input-group">
        <ion-searchbar></ion-searchbar>
    </form> -->
    <ion-list *ngIf="asyncChats | async as chatKeys">
        <ion-item-sliding *ngFor="let key of chatKeys" (click)="loadConvo(chats.get(key))">
            <ion-item-options side="start">
                <ion-item-option (click)="loadConvo(chats.get(key))">Chat</ion-item-option>
            </ion-item-options>
            <ion-item>
                <ion-icon name="person-circle-outline"></ion-icon>
                <ion-label>{{chats.get(key)?.name}}</ion-label>
            </ion-item>
            <ion-item-options side="end">
                <ion-item-option color="danger" (click)="share(item)">Delete</ion-item-option>
            </ion-item-options>
        </ion-item-sliding>
    </ion-list>
</ion-content>


