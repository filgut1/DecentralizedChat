<div class="selected-user">
    <span class="name">{{currentConvo?.name}}</span>
</div>
<div class="chat-container">
    <ul class="chat-box chatContainerScroll" #scrollBottom>
        <li *ngFor="let message of sortedMessages; let i = index;  trackBy: trackByUuid" 
            [ngClass]="{'chat-left': isReceivedMessage(message), 'chat-right': !isReceivedMessage(message), 'continued_message': checkLastMessage(i)}">
            <div class="chat-text">
                <div *ngIf="!checkLastMessage(i) && isReceivedMessage(message)" class="chat-name">{{ message.from }}</div>
                {{message.message}}
                <div class="chat-hour">{{message.ts | date:'shortTime'}}<span class="fa fa-check-circle"></span></div>
            </div>
        </li>
    </ul>
    <form class="form-group mt-3 mb-0"
        (ngSubmit)="sendMessage()">
        <div class="input-group">
            <textarea type="text" [(ngModel)]="messageContent" name="messageContent"
                class="form-control" (keyup.enter)="sendMessage()">
            </textarea>
            <div class="input-group-append">
                <button class="btn btn-outline-primary" type="submit">Send</button>
            </div>
        </div>
    </form>
</div>